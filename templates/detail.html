{% extends 'base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto mt-8">
    <div class="bg-white p-6 rounded-lg shadow-md">
        {% if meal %}
        <img src="{{ meal.strMealThumb }}" alt="{{ meal.strMeal }}" class="w-full h-64 object-cover rounded-lg">
        <h2 class="text-2xl font-bold mt-4">{{ meal.strMeal }}</h2>
        <p class="mt-2 text-gray-600">{{ meal.strInstructions }}</p>
        
        <div class="mt-4">
            <h3 class="text-xl font-semibold">Ingredients:</h3>
            <ul class="list-disc list-inside">
                {% for i in range(1, 21) %}
                    {% set ingredient = meal['strIngredient' + i|string] %}
                    {% set measure = meal['strMeasure' + i|string] %}
                    {% if ingredient %}
                        <li>{{ ingredient }} - {{ measure }}</li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>

        <div class="mt-4">
            <h3 class="text-xl font-semibold">Category:</h3>
            <p>{{ meal.strCategory }}</p>
        </div>

        <div class="mt-4">
            <h3 class="text-xl font-semibold">Cuisine:</h3>
            <p>{{ meal.strArea }}</p>
        </div>

        <div class="mt-4">
            <h3 class="text-xl font-semibold">Tags:</h3>
            <p>{{ meal.strTags }}</p>
        </div>
        
        <div class="mt-4">
            <h3 class="text-xl font-semibold">Video:</h3>
            {% if meal.strYoutube %}
                <a href="{{ meal.strYoutube }}" class="text-blue-500 hover:underline" target="_blank">Watch on YouTube</a>
            {% else %}
                <p>No video available.</p>
            {% endif %}
        </div>
        {% else %}
        <p>We don't have a meal by that id.</p>
        {% endif %}
    </div>
</div>
{% endblock %}